app.controller("about",["$scope",function(){}]),app.controller("home",["$scope","$timeout","Miner",function(a,b,c){a.error=!1,a.charts=[],a.capture=function(d){b(function(){var e=d[0];"text/csv"!=e.type?a.error="Invalid file type. Must be a *.csv file!":b(function(){function b(a,b){return void 0===b?1:++b}if(miner=new c(e.data),"byuser"==a.filetype){var d=[["City","User","Tweets"]];for(var f in miner.data){var g=miner.data[f];d.push([g.Location,g.Username+" ("+g.Location+")",g["Number of tweets"]])}console.log("DATA"),console.dir(d),a.charts.push({title:"Tweets By User",type:"GeoChart",displayed:!0,options:{region:"US",displayMode:"markers",colorAxis:{colors:["yellow","red"]}},data:d})}else if("bytweet"==a.filetype){for(var h=miner.groupBy("Location",b),d=[["City","Tweets"]],f=0;f<h.length;f++){var g=h[f];d.push([g.label,g.value])}a.charts.push({title:"Tweets By Location",type:"GeoChart",displayed:!0,options:{region:"US",displayMode:"markers",colorAxis:{colors:["yellow","red"]}},data:d})}})})}}]),app.controller("test",["$scope",function(a){a.test="Hello World!"}]),app.controller("layout",["$scope","$location",function(a,b){a.places=[{title:"Analyze",url:"#/"},{title:"About",url:"#/about"},{title:"Test",url:"#/test"}],a.$on("$locationChangeStart",function(){for(var c="#"+b.path(),d=0;d<a.places.length;d++){var e=a.places[d];e.url==c?(a.title=e.title,e.selected=!0):e.selected=!1}})}]),app.config(["$routeProvider",function(a){a.when("/",{templateUrl:"home",controller:"home"}).when("/about",{templateUrl:"about",controller:"about"}).when("/test",{templateUrl:"test",controller:"test"}).otherwise({redirectTo:"/"})}]),app.run(["$route",angular.noop]),angular.module("twitterData",[]).factory("Miner",[function(){return function(a){var b=this;!function(){b.csv=Papa.parse(a,{header:!0,dynamicTyping:!0}),b.data=b.csv.data,b.headers=b.csv.meta.fields}(),b.count=function(a,c){for(var d=0,e=0;e<b.data.length;e++)b.data[e][a].match(c)&&d++;return d},b.groupBy=function(a,c){for(var d={},e=0;e<b.data.length;e++){var f=b.data[e],g=f[a];d[g]=c(f,d[g])}var h=[];for(var i in d)h.push({label:i,value:d[i]});return h}}}]);var up=angular.module("up",[]).directive("upDropzone",function(){function a(a,b){for(var c=[],d=c.length,e=0;e<a.length;e++)!function(a){var e=new FileReader;e.onload=function(e){c.push({lastModified:a.lastModified,lastModifiedDate:a.lastModifiedDate,timeStamp:e.timeStamp,name:a.name,type:a.type||"",data:e.target.result,size:e.total}),--d<=0&&b(c)},e.readAsText(a)}(a[e])}return{scope:{onDrop:"=upOndrop",onDropClass:"=upOndropClass"},link:function(b,c){var d=c[0];d.addEventListener("click",function(){var c=document.createElement("input");c.type="file",c.style.display="none",$("body").append(c),c.click(),$(c).change(function(c){a(c.target.files,b.onDrop||angular.noop)})},!1),d.addEventListener("drop",function(d){d.preventDefault(),d.stopPropagation(),b.onDropClass&&c.removeClass(b.onDropClass),a(d.dataTransfer.files,b.onDrop||angular.noop)},!1),d.addEventListener("dragover",function(a){a.stopPropagation(),a.preventDefault(),a.dataTransfer.dropEffect="copy"},!1),b.onDropClass&&(d.addEventListener("dragenter",function(a){for(var d=0;d<a.dataTransfer.types.length;d++)if("Files"==a.dataTransfer.types[d]){c.addClass(b.onDropClass);break}},!1),d.addEventListener("dragleave",function(){c.removeClass(b.onDropClass)},!1))}}});angular.module("myapp").run(["$templateCache",function(a){"use strict";a.put("about","<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut luctus mi, a cursus augue. Donec sodales cursus consequat. Curabitur vitae arcu congue, fermentum mauris vitae, feugiat justo. Maecenas mollis eu tortor ac venenatis. Aenean eget pellentesque est. Quisque varius et nisl vitae pulvinar. Praesent et pretium diam. Sed vitae ipsum libero. Cras eu sodales neque, sit amet rhoncus velit. Pellentesque quis gravida mi.</p>"),a.put("home",'<div class="applets-home"><div class="alert alert-danger alert-dismissible" ng-show="error"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span> <span class="sr-only">Close</span></button> {{error}}</div><div class="narrow"><div class="form-group"><select class="form-control" ng-model="filetype" ng-value="byuser"><option value="bytweet">Upload Tweet Excel File</option><option value="byuser">Upload Top Tweeter Excel File</option></select></div><div id="dropzone" up-dropzone up-dropclass="dropzone-cover" up-ondrop="capture" class="well drop-zone">Drag a file here or click to upload.</div></div><div class="data"><div class="well" ng-repeat="chart in charts"><h3>{{chart.title}}</h3><div google-chart chart="chart"></div></div></div></div>'),a.put("test","This is a test."),a.put("layout",'<div class="wrapper"><div class="menu"><a ng-repeat="place in places" class="item" ng-class="{selected: place.selected}" ng-href="{{place.url}}">{{place.title}}</a></div><div class="content"><div class="page-header"><h1>{{title}}</h1></div><div ng-view="\'home\'"></div><div class="footer"><!-- legalese. --></div></div></div>')}]);